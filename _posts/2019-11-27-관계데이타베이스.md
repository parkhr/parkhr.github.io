---
published: true
layout: single
title: "관계데이타베이스"
category:
 - 데이타베이스
date : 2019-11-27 14:08:00
---

## 관계 데이타 모델

테이블 = 릴레이션

열 = 애트리뷰트

행 = 투플

관계 데이타 모델에서 데이타의 가장 작은 논리적 단위는 *애트리뷰트 값*이다.
이러한 데이타 값들은 분해하려해도 분해할 수 없는 *원자 값*만을 허용한다.

하나의 애트리뷰트가 취할 수 있는 같은 타입의 모든 원자 값들의 집합을 애트리뷰트의 *도메인*이라 한다.
각 애트리뷰트는 어느 한 도메인 위에서 정의되어져야 한다.

예를 들어, "학번(Sno)"의 도메인은 세 자리 정수의 집합이고 "이름(Sname)"의 도메인은 10개의 문자로 된 문자열의 집합이라고 정의되었다면 학번과 이름은 각각 세 자리 정수와 10개의 문자로 된 문자열만 값으로 취할 수 있다.

릴레이션 학생(STUDENT)의 정의
DCL DOMAIN DSNO INTEGER;
DCL DOMAIN NAME CHAR(10);
DCL RELATION STUDENT
				(Sno DOMAIN DSNO,
				 Sname DOMAIN NAME
				)

단순 도메인 : 원자 값으로 된 도메인
단순 애트리뷰드 : 단순 도메인 위에 정의된 애트리뷰트

복합 도메인 : 단순 도메인들을 결합한 것
복합 애트리뷰트 : 복합 도메인으로 정의한 애트리뷰트



## 릴레이션 개념

어떤 릴레이션 R이 n개의 도메인 D<sub>1</sub>, D<sub>2</sub> ... D<sub>n</sub> 위에서 정의 될 때

릴레이션 스키마 : 릴레이션 이름, 애트리뷰트의 집합으로 구성(A<sub>1</sub>, A<sub>2</sub> ... A<sub>n</sub>) -> 도메인과 정확히 대응된다. -> 정적

릴레이션 인스턴스 : 릴레이션 R에 포함되어 있는 투플의 집합 -> 삽입, 삭제, 갱신으로 시간에 따라 내용이 변하는 동적


카디션 프로덕트 : D<sub>1</sub>, D<sub>2</sub> ... D<sub>n</sub> 에 대한 카디션 프로덕트 D<sub>1</sub> x D<sub>2</sub> x ... x D<sub>n</sub> 

예)

학번	과목번호		학번 X 과목번호
100	C412			<100, C412>
200	C123			<100, C123>
							  <200, C412>
							  <200, C123>

차수 : 애트리뷰트의 개수
카디널리티 : 투플의 수

카디널리티는 시간에 따라 값이 변할 수 있지만, 차수는 시간에 관계없이 변하지 않는 성질을 가지고 있다.



## 릴레이션의 특성

1. 한 릴레이션에 포함된 투플들은 모두 상이하다.
2. 한 릴레이션에 포함되어 있는 투플 사이에는 순서가 없다.
3. 한 릴레이션을 구성하는 애트리뷰트 사이에는 순서가 없다.
4. 모든 애트리뷰트의 값은 원자값 이다.



## 데이타베이스 키

- 후보키 : 유일성, 최소성을 만족

- 슈퍼키 : 유일성을 만족, 최소성을 만족하지 않는다.

- 기본키 : 데이터베이스 설계자가 지정한 하나의 후보키.

- 대체키 : 기본키로 지정되지 않은 나머지 후보키.

- 외래키 : 
  릴레이션 R에 속한 어떤 애트리뷰트 집합 FK가 있고, 이 FK의 값은 반드시 어떤 릴레이션 S의 기본 키 값이어야 할 때 이 FK를 릴레이션 R의 외래키라 한다.

  이 경우에 애트리뷰트 집합FK는 릴레이션 S를 참조 한다고 하고 릴레이션 R을 참조 릴레이션, 릴레이션 S를 피 참조 릴레이션이라 한다.


  이때 릴레이션 R과 릴레이션 S는 반드시 서로 상이해야 되는 것은 아님

  외래키와 기본키가 정의된 도메인은 같아야함.

  릴레이션 R의 외래키가 기본키가 되거나 기본키에 포함되어야만 하는건 아님.



## 무결성 제약

- 개체 무결성 제약

  기본키에 속해 있는 애트리뷰트는 null 값을 가질 수 없다.

- 참조 무결성 제약

  릴레이션은 참조할 수 없는 외래키 값을 가져서는 안된다. -> 참조할 수 없는 외래키의 값이란 널이 아니면서 참조된 릴레이션의 어떤 기본키 값과도 일치하지 않는 값