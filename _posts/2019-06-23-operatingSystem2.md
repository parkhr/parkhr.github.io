---
published: true
layout: single
title: "02.운영체제의 이중모드 및 서비스"
category:
  - operating system
date : 2019-06-23 22:36:00
---

## 이중모드

운영체제에는 사용자 모드와 관리자 모드가 있다.

- 사용자모드(User)
- 관리자모드(Supervisor)

<br/>
<br/>

***한  프로그램의 실행 과정***

게임 프로그램 실행(사용자 모드) -> 하드웨어 / 소프트웨어 인터럽트 발생(사용자 모드 -> 관리자 모드)

-> 운영체제 서비스(관리자 모드) -> 운영체제 서비스가 끝나면 (사용자 모드 -> 관리자 모드)



***일반적으로 프로그램은 위와 같이 사용자 모드와 관리자 모드로 계속해서 변한다.***

<br/>
<br/>

## 하드웨어 보호

입출력 장치 보호

- in, out 과 같이 특권 명령으로 처리한다.
- 만약 사용자가 입출력 명령을 직접 내린 경우?  ->  엑세스 거부 or 프로그램 강제 종료

사용자 프로그램이 OS에게 출력을 부탁(인터럽트)하고 OS는 부탁(out 명령)을 들어 주고 다시 사용자 프로그램으로 변환

<br/>
<br/>


## 메모리 보호

만약 user1 프로세스가 1 ~ 99번지 user2 프로세스가 100 ~ 199번지를 할당하고 있을때,

user1이 150번지를 요구하면 Address Bus 안에 있는 ***MMU(Memory Management Unit)***이 거부하고 강제종료



***다른 사용자 or 운영체제 영역 메모리 접근 시도를 Segment violation 이라 한다.***

<br/>
<br/>


## CPU 보호

한 사용자가 실수 또는 고의로 CPU 시간 독점할때

ex) while(true) ...  => 다른 사용자 프로그램이 실행 불가

***Timer를 두어 일정시간 경과 시 타이머 인터럽트를 걸어 해결한다.***


<br/>
<br/>


## 운영체제 서비스

운영체제는 process 관리, main memory 관리, file 관리, I/O 관리, Networking, protection 등등을 서비스 한다.

<br/>
<br/>


## process 관리란?

- 프로세스 생성, 소멸
- 프로세스 활동 일시중지, 재개
- 프로세스간 통신
- 프로세스간 동기화
- 교착상태 처리

위와 같은 기능을 한다.



프로세스 vs 프로그램

프로세스란 하드디스크에서 main memory로 올라와 실행하고 있는 것을 말하고,

프로그램이란 하드디스크에 저장되어 있는 것을 말한다.

<br/>
<br/>

## Main Memory 관리란?

- 프로세스에게 메모리 공간 할당
- 메모리의 어느부분이 어느 프로세스에게 할당되었는가 추적 및 감시
- 프로세스 종료시 메모리 회수 -> 메모리의 효과적 사용
- 가상 메모리


<br/>
<br/>

## File 관리란?

Track / Sector로 구성 되어 있는 디스크를 파일이라는 ***논리적 관점***으로 보이도록 관리하는 기능

<br/>
<br/>

## System calls

일반 어플리케이션 프로그램이 OS가 제공하는 서비스를 받기 위해 호출하는 것을 말한다.

- process 관련 -> end, load, execute, create, terminate, get / set ...

- memory 관련 -> allocation, free

- file 관련 -> create, open, delete, close ...
